<script src="https://cdn.jsdelivr.net/npm/mathjs@12.2.1/lib/browser/math.min.js"></script>
<script type="text/javascript" src="../static/js/processing.js"></script>

<p>Select the tag on which the operation will be done: </p>
<br>
<select class="dd" id="dd_var"></select>
<button name=btn_add_var onclick="add_operation(this)">add variable</button>
<br>
<p>Select the operation you want to perfrom: </p>
<br>
<!-- <select class="dd" name="dd_operation" id="dd_operation"></select> -->
<!-- <button name=btn_op_plus class="big_btn" onclick="add_operation(this)">+</button>
<button name=btn_op_mois class="big_btn" onclick="add_operation(this)">-</button>
<button name=btn_op_fois class="big_btn" onclick="add_operation(this)">*</button>
<button name=btn_op_divide class="big_btn" onclick="add_operation(this)">/</button>
<button name=btn_op_power class="big_btn" onclick="add_operation(this)">^</button> -->
<br>
<p>
    Formula of the new variable to create.
    <br>
    Use v_i(v1,v2,...) to designate a variable 
    <br>
    where i is the index of the variable from the dropdown menu.
    <br>
    Use ** for power.
</p>
<br>
<!-- <input class='formula' id='in_formula' type="text" onchange=update_formula()> -->
<input class='formula' id='in_formula' type="text">
<br>
<p>unit:</p>
<br>
<input id='in_formula_unit' type="text" value="">
<br>
<p>Name of your new created variable : </p>
<br>
<input class='formula' id='new_var_name' value="new_variable" type="text"/>
<br>
<button name=btn_add_formula onclick="add_formula_variable()">compute the variable</button>
<button name=btn_load_formulas onclick="browse_variables_file()">load variables</button>
<button name=btn_save_formulas onclick="save_table_variables()">save variables</button>
<input type="file" id="fileVarsInput" style="display: none;" onchange="load_table_variables()">

<table id="table_computed_vars" border="1" cellpadding="2" style="width: 300px;">
    <tr>
        <td>
          <input type="button" class="deleteall_btn" value = "Delete all" onClick="delete_all_vars()">
        </td>
        <td><b>variable</b></td>
        <td><b>formula</b></td>
        <td><b>unit</b></td>
    </tr>
  </table>
  
